document.addEventListener("DOMContentLoaded",(function(){}));let setCheck,myRadios=document.getElementsByName("tabs2");for(let t=0;t<myRadios.length;t++)myRadios[t].onclick=t=>{setCheck!==t.target?setCheck=t.target:(t.target.checked=!1,setCheck=null)};let xhr=new XMLHttpRequest;xhr.open("GET","json.json",!0),xhr.responseType="text",xhr.onreadystatechange=function(){if(4==xhr.readyState&&200==xhr.status){XMLHttpRequest.responseType;JSON.stringify(xhr.response)}},xhr.send(null),xhr.onerror=function(){alert("Ошибка соединения")},document.querySelector(".burger").addEventListener("click",(function(){document.querySelector(".burger span").classList.toggle("active"),document.querySelector(".menu_mob").classList.toggle("animate")}));let total={a:0,b:0,date_first:0,date_last:0,rezhim:[{}],dopItems:{},selected:[{}],getTarif:function(){for(let t in total.selected)getTarif=parseInt(total.selected[t]);let t=0;for(let e in total.dopItems)t+=parseInt(total.dopItems[e]);let e=document.getElementById("custom-input-number").value;total.count=e,document.getElementById("increment").addEventListener("click",(function(){let t=document.getElementById("custom-input-number").value;countNum=Number.parseFloat(t),total.count=countNum})),document.getElementById("decrement").addEventListener("click",(function(){let t=document.getElementById("custom-input-number").value;countNum=Number.parseFloat(t),total.count=countNum}));let n=total.count;console.log("start getDatre");let a=moment(total.date_first,"DD.MM.YYYY");console.log("a",a);let o=moment(total.date_last,"DD.MM.YYYY").diff(a,"days");console.log("кол-во дней",o);let l=0;for(let t in total.rezhim)l=parseInt(total.rezhim[t]);ColHours=l,console.log("ColHours",ColHours),totalCost=(getTarif+t)*l*n*o,document.getElementById("tarif").innerHTML=getTarif+t,document.getElementById("hours").innerHTML=ColHours,document.getElementById("days").innerHTML=o,document.getElementById("totalCost").innerHTML=totalCost+" р"}},activeBtn=document.querySelectorAll(".activated");function getClassBtn(){document.querySelectorAll(".-mt-48 button").forEach(t=>{t.addEventListener("click",()=>{if(t.parentNode.classList.contains("selected-1")){if(t.classList.contains("activated")){let t=document.querySelectorAll("#massa button");for(i=0;i<t.length;i++)if(t[i].classList.contains("activated")){if(t[i].hasAttribute("data-button")){let e=t[i].innerHTML;total.selected[e]=t[i].getAttribute("data-button")}}else{let e=t[i].innerHTML;delete total.selected[e]}let e=document.querySelectorAll(".rezhim button");for(i=0;i<e.length;i++)if(e[i].classList.contains("activated")){if(e[i].hasAttribute("data-button")){let t=e[i].innerHTML;total.rezhim[t]=e[i].getAttribute("data-button")}}else{let t=e[i].innerHTML;delete total.rezhim[t]}total.getTarif()}}else{if(t.classList.toggle("activated"),t.classList.toggle("not-shadow-mass-button"),t.classList.contains("activated")){if(t.hasAttribute("data-value")){let e=t.innerHTML;total.dopItems[e]=t.getAttribute("data-value")}}else{let e=t.innerHTML;delete total.dopItems[e]}total.getTarif(),console.log("total",total)}})})}activeBtn.forEach(t=>{setTimeout((function(){t.click()}),300)}),push2();let datepicker=new Datepicker("#datepicker",{min:function(){var t=new Date;t.setDate(t.getDate());let e=t.setDate(t.getDate()-1);return console.log(Date(e)),t}(),openOn:"today",weekStart:0,onChange:function(t){console.log("date+++",t)}}),datepicker2=new Datepicker("#datepicker_2",{min:function(){var t=new Date;t.setDate(t.getDate());let e=t.setDate(t.getDate()+30);return console.log(Date(e)),t}()}),NowMoment=moment(),eDisplayMoment=document.getElementById("datepicker");function push1(){setTimeout((function(){let t=document.getElementById("datepicker_2");t.click(),total.date_last=t.value,total.getTarif()}),100)}function push2(){setTimeout((function(){let t=document.getElementById("datepicker");t.click(),total.date_first=t.value,total.getTarif()}),100)}async function loadParams(t){let e=await fetch("json.json",{method:"GET"});if(e.ok){let t=await e.json();console.log("result",t);for(let e of t)if("params_select"===e.IBLOCK_CODE){let t=`<div class="dop-items flex flex-col p-7 md:p-0 w-full"><span class="font-MontserratMedium text-base my-5 md:mt-10 mt-5">${e.PROPERTIES.title.VALUE}</span><div class="grid grid-cols-1 md:grid-cols-2 gap-5">`;for(let n=0;n<e.PROPERTIES.params.VALUE.length;n++)t+=`<button class="font-MontserratRegular text-brownish-grey push-button" data-value="${e.PROPERTIES.price.VALUE[n]}">${e.PROPERTIES.params.VALUE[n]}</button>`;t+="</div></div>",document.getElementsByClassName("load")[0].insertAdjacentHTML("beforeend",t)}else if("params_input"===e.IBLOCK_CODE){let t=`<div class="value flex flex-col p-7 md:p-0 w-full"><span class="font-MontserratMedium text-base my-5 md:mt-10 mt-5">${e.PROPERTIES.title.VALUE}</span><div class="grid grid-cols-1 md:grid-cols-1 lg:grid-cols-3 gap-5"><input type="text"\n                                   class="col-span-2 rounded-xl px-4 py-3 focus:outline-none bg-grey w-full"\n                                   placeholder="Введите параметр"/>\n                            <div class="flex lg:flex-col flex-wrap  lg:justify-center items-center w-full font-MontserratRegular text-sm text-brownish-grey">\n                                ${e.PREVIEW_TEXT}\n                            </div>\n                        </div>\n                    </div>`;document.getElementsByClassName("load")[0].insertAdjacentHTML("beforeend",t)}else if("params_range"===e.IBLOCK_CODE){let t='<div class="relative my-10">     \n            <input type="range" value="5" min="3" max="8" step="1" id="r1" class="absolute" oninput="fun1()"    onchange="showValue(value,1,false)">\n            <div id="test" class="absolute">\n            <div class="flex justify-end value_obj w-full relative"></div>             \n            </div>           \n        </div>        \n        <div class="flex justify-between py-5">\n            <div>\n                <span class="py-2">от 3м</span>\n            </div>\n            <div>\n                <span class="py-2">до 8м</span>\n            </div>\n        </div>';document.getElementsByClassName("load")[0].insertAdjacentHTML("beforeend",t)}}getClassBtn()}function resize_height(){let t=527,e=0,n=document.getElementsByClassName("column");for(let e=0;e<=n.length-1;e++)n[e].offsetHeight>t&&(t=n[e].offsetHeight);n.length>0&&(e=n[0].offsetWidth);for(let a=0;a<=n.length-1;a++)n[a].style.height=t+"px",a>=n.length-2&&(n[a].style.width=e+"px",n[a].classList.remove("flex-grow"))}eDisplayMoment.value=NowMoment.format("DD.MM.YYYY"),total.date_first=eDisplayMoment.value,console.log("total.date_first",total.date_first),document.getElementById("datepicker").addEventListener("click",(function(){let t=document.getElementById("datepicker").value,e=document.getElementById("datepicker_2");e.value=moment(t,"DD.MM.YYYY").add(1,"month").format("DD.MM.YYYY"),total.date_last=e.value})),document.getElementById("datepicker").addEventListener("focusout",(function(){push2()})),document.getElementById("datepicker_2").addEventListener("click",(function(){let t=document.getElementById("datepicker_2").value;total.date_last=moment(t,"DD.MM.YYYY").format("DD.MM.YYYY"),console.log(" total.date_last",total.date_last)})),document.getElementById("datepicker_2").addEventListener("focusout",(function(){push1()})),loadParams(26),window.onload=function(){setTimeout(resize_height,500)},window.addEventListener("resize",(function(){let t=document.getElementsByClassName("column");for(let e of t)e.style.height="";setTimeout(resize_height,500)}));let modal=document.getElementById("myModal"),btn=document.getElementsByClassName("myBtn-open"),close=document.getElementsByClassName("close-btn")[0];for(let t of btn)t.onclick=()=>{modal.style.display="block"};function decrement(t){const e=t.target.parentNode.parentElement.querySelector('button[data-action="decrement"]').nextElementSibling;let n=Number(e.value);n--,e.value=n,n<0&&(e.value=0)}function increment(t){const e=t.target.parentNode.parentElement.querySelector('button[data-action="decrement"]').nextElementSibling;let n=Number(e.value);n++,e.value=n}close.onclick=function(){modal.style.display="none"},document.addEventListener("keydown",(function(t){if("Escape"===t.key){document.getElementById("myModal").style.display="none"}})),window.onclick=function(t){t.target===modal&&(modal.style.display="none")},document.addEventListener("DOMContentLoaded",(function(){function t(){let t=document.getElementById("view");screen.width<414?t.setAttribute("content","width=414, user-scalable=no"):t.setAttribute("content","width=device-width, initial-scale=1.0, user-scalable=no")}t(),window.addEventListener("resize",()=>{t()})}));const decrementButtons=document.querySelectorAll('button[data-action="decrement"]'),incrementButtons=document.querySelectorAll('button[data-action="increment"]');decrementButtons.forEach(t=>{t.addEventListener("click",decrement)}),incrementButtons.forEach(t=>{t.addEventListener("click",increment)});const MONTH_NAMES=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],MONTH_SHORT_NAMES=["Янв","Фев","Март","Апр","Май","Июнь","Июль","Август","Сент","Октябрь","Ноябрь","Декабрь"],DAYS=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];function app(){return{showDatepicker:!1,datepickerValue:"",selectedDate:new Date,dateFormat:"DD-MM-YYYY",month:"",year:"",no_of_days:[],blankdays:[],initDate(){let t;t=this.selectedDate?new Date(Date.parse(this.selectedDate)):new Date,this.month=t.getMonth(),this.year=t.getFullYear(),this.datepickerValue=this.formatDateForDisplay(t)},formatDateForDisplay(t){let e=DAYS[t.getDay()],n=("0"+t.getDate()).slice(-2),a=MONTH_NAMES[t.getMonth()],o=MONTH_SHORT_NAMES[t.getMonth()],l=("0"+(parseInt(t.getMonth())+1)).slice(-2),s=t.getFullYear();return"DD-MM-YYYY"===this.dateFormat?`${n}.${l}.${s}`:"YYYY-MM-DD"===this.dateFormat?`${s}-${l}-${n}`:"D d M, Y"===this.dateFormat?`${e} ${n} ${o} ${s}`:`${e} ${n} ${a} ${s}`},isSelectedDate(t){const e=new Date(this.year,this.month,t);return this.datepickerValue===this.formatDateForDisplay(e)},isToday(t){const e=new Date,n=new Date(this.year,this.month,t);return e.toDateString()===n.toDateString()},getDateValue(t){let e=new Date(this.year,this.month,t);this.datepickerValue=this.formatDateForDisplay(e),this.isSelectedDate(t),this.showDatepicker=!1},getNoOfDays(){let t=new Date(this.year,this.month+1,0).getDate(),e=new Date(this.year,this.month).getDay(),n=[];for(let t=1;t<=e;t++)n.push(t);let a=[];for(let e=1;e<=t;e++)a.push(e);this.blankdays=n,this.no_of_days=a}}}function range(){return{minprice:3,maxprice:5,min:3,max:getWidth.max,minthumb:3,maxthumb:8,mintrigger(){this.minprice=3,this.minthumb=0},maxtrigger(){this.maxprice=Math.max(this.maxprice,this.minprice),this.maxthumb=100-(this.maxprice-this.min)/(this.max-this.min)*100}}}function functionName(t){let e=t.getElementsByClassName("push-button");for(let t of e)t.classList.contains("activated")&&(t.classList.remove("activated"),t.classList.remove("not-shadow-mass-button"))}function push_btn(t){t.currentTarget.parentNode.parentElement.classList.contains("selected-1")&&functionName(t.currentTarget.parentNode.parentElement),this.classList.toggle("activated"),this.classList.toggle("not-shadow-mass-button")}let btns=document.querySelectorAll(".push-button");btns.forEach((function(t){str=0,t.addEventListener("click",push_btn)}));
//# sourceMappingURL=../sourcemaps/libs.min.js.map
